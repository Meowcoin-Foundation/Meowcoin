--- a/qtbase/src/corelib/global/qendian.h
+++ b/qtbase/src/corelib/global/qendian.h
@@ -41,6 +41,13 @@
 #include "qglobal.h"
 #include "qfloat16.h"
+#include <limits>
+#if defined(max)
+#  undef max
+#endif
+#if defined(min)
+#  undef min
+#endif

 QT_BEGIN_NAMESPACE
