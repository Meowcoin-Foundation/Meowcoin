--- a/qtbase/src/corelib/global/qendian.h
+++ b/qtbase/src/corelib/global/qendian.h
@@ -41,6 +41,16 @@
 #include "qglobal.h"
 #include "qfloat16.h"
+#include <limits>
+#if defined(_WIN32)
+#  ifdef max
+#    undef max
+#  endif
+#  ifdef min
+#    undef min
+#  endif
+#endif

 QT_BEGIN_NAMESPACE
